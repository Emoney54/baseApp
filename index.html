<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BaseLearn â€¢ Web3 Studio</title>
  <link rel="stylesheet" href="styles.css" />
  <!-- Libs -->
  <script src="https://cdn.jsdelivr.net/npm/ethers@6.12.2/dist/ethers.umd.min.js"></script>
  <script src="https://unpkg.com/solc@0.8.24/solc.min.js"></script>
  <script src="https://unpkg.com/monaco-editor@0.50.0/min/vs/loader.js"></script>
</head>
<body>
  <div class="bg-grid"></div>
  <div class="bg-glow"></div>

  <header class="nav">
    <div class="brand">
      <div class="logo-dot"></div>
      <span>BaseLearn</span>
    </div>
    <div class="nav-actions">
      <span id="networkBadge" class="badge">RÃ©seau: â€”</span>
      <button id="connectBtn" class="btn btn-primary">Connect Wallet</button>
    </div>
  </header>

  <!-- Modal de sÃ©lection de rÃ©seau -->
  <div id="networkModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Choisir un rÃ©seau</h2>
        <button id="closeNetworkModal" class="btn btn-text">âœ•</button>
      </div>
      <div class="modal-body">
        <div id="signingLoader" class="signing-loader" style="display: none;">
          <div class="loader-spinner"></div>
          <p>Veuillez signer le message dans MetaMask...</p>
        </div>
        <div class="network-list">
          <button class="network-option" data-chain-id="8453" data-chain-name="Base Mainnet">
            <div class="network-info">
              <h3>Base</h3>
              <p>Mainnet</p>
            </div>
            <div class="network-status">âœ“</div>
          </button>
          <button class="network-option" data-chain-id="84532" data-chain-name="Base Sepolia">
            <div class="network-info">
              <h3>Base Sepolia</h3>
              <p>Testnet</p>
            </div>
            <div class="network-status">âœ“</div>
          </button>
          <button class="network-option" data-chain-id="10" data-chain-name="Optimism">
            <div class="network-info">
              <h3>Optimism</h3>
              <p>Mainnet</p>
            </div>
            <div class="network-status">âœ“</div>
          </button>
          <button class="network-option" data-chain-id="420" data-chain-name="Optimism Goerli">
            <div class="network-info">
              <h3>Optimism Goerli</h3>
              <p>Testnet</p>
            </div>
            <div class="network-status">âœ“</div>
          </button>
        </div>
      </div>
    </div>
  </div>
  <div id="networkModalOverlay" class="modal-overlay"></div>

  <!-- Sidebar Profile -->
  <div id="profileSidebar" class="sidebar">
    <div class="sidebar-header">
      <h2>ğŸ‘¤ Mon Profil</h2>
      <button id="closeSidebar" class="btn btn-text">âœ•</button>
    </div>
    
    <div class="sidebar-content">
      <div class="profile-section">
        <h3>Wallet Info</h3>
        <div class="wallet-address-box">
          <span id="sidebarAddress" class="address"></span>
          <button id="copyAddress" class="btn-icon" title="Copier">ğŸ“‹</button>
        </div>
        <p id="sidebarBalance" class="balance">Chargement...</p>
      </div>

      <div class="profile-section">
        <h3>Tokens</h3>
        <div id="tokenList" class="token-list">
          <p class="loading">Chargement des tokens...</p>
        </div>
      </div>

      <div class="profile-section">
        <h3>RÃ©seau</h3>
        <p id="sidebarNetwork" class="network">â€”</p>
        <p id="sidebarTxCount" class="tx-count">â€” transactions</p>
      </div>
    </div>

    <div class="sidebar-footer">
      <button id="disconnectSidebarBtn" class="btn btn-secondary w-full">DÃ©connecter</button>
    </div>
  </div>
  <div id="sidebarOverlay" class="sidebar-overlay"></div>

  <main class="container">
    <section class="hero">
      <h1>Ton hub <span class="text-gradient">Web3</span> sur Base</h1>
      <p class="subtitle">Ã‰dite & dÃ©ploie des contrats, partage avec la commu, et grind des petites quÃªtes quotidiennes.</p>
    </section>

    <!-- TABS -->
    <div class="tabs">
      <button class="tab active" data-tab="ide">IDE</button>
      <button class="tab" data-tab="social">Social</button>
      <button class="tab" data-tab="dashboard">Dashboard</button>
    </div>

    <section id="ide" class="grid tabpanel active">
      <!-- Templates de contrats -->
      <div class="card span-2">
        <div class="card-head">
          <h2>ğŸ“š Templates de Contrats</h2>
          <span class="chip">PrÃªts Ã  l'emploi</span>
        </div>
        <div class="template-grid">
          <button class="template-card" data-template="vesting">
            <div class="template-icon">ğŸ”’</div>
            <h3>Token Vesting</h3>
            <p>Distribution progressive de tokens</p>
          </button>
          <button class="template-card" data-template="vault">
            <div class="template-icon">ğŸ¦</div>
            <h3>DeFi Vault</h3>
            <p>Staking avec rewards automatiques</p>
          </button>
          <button class="template-card" data-template="multisig">
            <div class="template-icon">ğŸ‘¥</div>
            <h3>MultiSig Wallet</h3>
            <p>Wallet multi-signatures sÃ©curisÃ©</p>
          </button>
          <button class="template-card" data-template="marketplace">
            <div class="template-icon">ğŸ›’</div>
            <h3>NFT Marketplace</h3>
            <p>Place de marchÃ© pour NFTs</p>
          </button>
          <button class="template-card" data-template="payment">
            <div class="template-icon">ğŸ’³</div>
            <h3>Payment Splitter</h3>
            <p>Distribution de paiements</p>
          </button>
          <button class="template-card" data-template="factory">
            <div class="template-icon">ğŸ­</div>
            <h3>Token Factory</h3>
            <p>CrÃ©ation dynamique de tokens ERC20</p>
          </button>
        </div>
      </div>

      <!-- Ã‰diteur -->
      <div class="card span-2">
        <div class="card-head">
          <h2>ğŸ§  Ã‰diteur Solidity</h2>
          <div class="row">
            <button id="btnCompile" class="btn btn-secondary">Compiler (solc)</button>
            <button id="btnDeploy" class="btn btn-primary">DÃ©ployer</button>
            <a id="btnRemix" class="btn btn-text" href="#" target="_blank">Remix â†—</a>
          </div>
        </div>
        <div id="editor" class="editor"></div>
      </div>

      <!-- Compilation -->
      <div class="card">
        <div class="card-head">
          <h2>ğŸ§ª Compilation</h2>
          <span class="chip">ABI / Bytecode</span>
        </div>
        <label class="fld">
          <span>Nom du contrat</span>
          <input id="contractName" type="text" placeholder="MyContract" />
        </label>
        <label class="fld">
          <span>ABI</span>
          <textarea id="abiOut" rows="6" spellcheck="false"></textarea>
        </label>
        <label class="fld">
          <span>Bytecode</span>
          <textarea id="bytecodeOut" rows="4" spellcheck="false"></textarea>
        </label>
        <p id="compileStatus" class="status"></p>
      </div>

      <!-- DÃ©ploiement -->
      <div class="card">
        <div class="card-head">
          <h2>ğŸš€ DÃ©ploiement</h2>
        </div>
        <label class="fld">
          <span>Args constructeur</span>
          <input id="ctorArgs" type="text" placeholder='ex: "MyToken", "MTK", 18' />
        </label>
        <label class="fld">
          <span>Valeur (ETH)</span>
          <input id="deployValue" type="number" step="0.0001" placeholder="0.00" />
        </label>
        <button id="deployBtn" class="btn btn-primary w-full">DÃ©ployer</button>
        <p id="deployStatus" class="status"></p>
      </div>
    </section>

    <section id="social" class="grid tabpanel">
      <div class="card">
        <div class="card-head">
          <h2>ğŸ¤ Partager un contrat</h2>
          <span class="chip">Commu</span>
        </div>
        <label class="fld">
          <span>Adresse du contrat</span>
          <input id="shareAddress" type="text" placeholder="0x..." />
        </label>
        <label class="fld">
          <span>ABI (optionnel)</span>
          <textarea id="shareAbi" rows="4" placeholder="Colle lâ€™ABI si tu veux quâ€™on puisse intÃ©ragir"></textarea>
        </label>
        <label class="fld">
          <span>Note / Description</span>
          <textarea id="shareNote" rows="3" placeholder="Pourquoi ce contrat est cool ?"></textarea>
        </label>
        <button id="shareBtn" class="btn btn-secondary w-full">Publier dans le feed</button>
        <p id="shareStatus" class="status"></p>
      </div>

      <div class="card span-2">
        <div class="card-head">
          <h2>ğŸ“° Feed communautaire</h2>
          <span class="chip">Local</span>
        </div>
        <div id="feed" class="feed"></div>
      </div>
    </section>

    <section id="dashboard" class="grid tabpanel">
      <div class="card">
        <div class="card-head">
          <h2>ğŸŒ GM du jour</h2>
          <span class="chip">QuÃªte</span>
        </div>
        <button id="gmBtn" class="btn btn-primary w-full">Envoyer mon GM</button>
        <p id="gmStatus" class="status"></p>
      </div>

      <div class="card">
        <div class="card-head">
          <h2>ğŸ“ˆ PrÃ©diction du jour</h2>
          <span class="chip">ETH / BTC</span>
        </div>
        <label class="fld">
          <span>Actif</span>
          <select id="predAsset">
            <option>ETH</option>
            <option>BTC</option>
          </select>
        </label>
        <div class="row">
          <button class="btn btn-secondary" data-pred="up">Ã‡a monte</button>
          <button class="btn btn-secondary" data-pred="down">Ã‡a baisse</button>
        </div>
        <p id="predStatus" class="status"></p>
      </div>

      <div class="card span-2">
        <div class="card-head">
          <h2>ğŸ† Progression</h2>
          <span class="chip">XP</span>
        </div>
        <pre id="progressOut" class="output"></pre>
      </div>
    </section>
  </main>

  <footer class="footer">
    <span>Â© <span id="year"></span> BaseLearn â€¢ DeFi webapp style â€¢ Monaco + solc + ethers</span>
  </footer>
  
  <script src="app.js"></script>
</body>
</html>

